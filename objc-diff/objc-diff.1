.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "OBJC-DIFF 1"
.TH OBJC-DIFF 1 "2017-06-13" "objc-diff 0.4" ""
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
objc\-diff \- generates an Objective\-C API diff report
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBobjc-diff\fR [\fB\-\-old\fR \fIold-api-path\fR] \fB\-\-new\fR \fInew-api-path\fR [options]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBobjc-diff\fR generates a text, \s-1XML,\s0 or \s-1HTML\s0 report of the \s-1API\s0 differences between two versions of an Objective-C library. It assists library authors with creating a diff report for their users and verifying that no unexpected \s-1API\s0 changes have been made.
.PP
Only the \fB\-\-new\fR argument is required. If \fB\-\-old\fR is ommitted all declarations in the \s-1API\s0 will be reported as additions. This supports generating a report for the first version of an \s-1API,\s0 and can also be used to review the \s-1API\s0 that the tool has parsed from the headers.
.PP
The paths to the old and new \s-1API\s0 versions can be specified in one of four ways:
.PP
1. Path to a framework
.PP
If the library is distributed as a framework this is the most convenient option. The tool will parse the framework's headers and automatically add the parent directory to the framework search paths so that import directives in the form of \f(CW\*(C`#import <FrameworkName/Header.h>\*(C'\fR can be resolved without additional configuration.
.PP
If both \s-1API\s0 paths are frameworks with version information specified in their Info.plist the tool will also generate a report title automatically if no \fB\-\-title\fR argument is provided.
.PP
2. Path to a specific header
.PP
The header and all non-system headers that it includes will be considered part of the \s-1API.\s0
.PP
3. Path to a directory of headers
.PP
The directory will be searched recursively for header files. All header files found and all non-system headers they include will be considered part of the \s-1API.\s0
.PP
4. Path to a platform \s-1SDK\s0
.PP
All frameworks in the \s-1SDK\s0 will be included in the \s-1API,\s0 with the following exceptions:
.IP "\(bu" 4
IOKit.framework
.IP "\(bu" 4
Kernel.framework
.IP "\(bu" 4
Tk.framework
.PP
The contents of /usr/include are not included. A platform \s-1SDK\s0 can only be compared against another platform \s-1SDK.\s0
.SS "Specifying Compiler Arguments"
.IX Subsection "Specifying Compiler Arguments"
Parsing the \s-1API\s0 headers may require additional compiler arguments such as header search paths or preprocessor definitions. These are specified via the \fB\-\-args\fR, \fB\-\-oldargs\fR, and \fB\-\-newargs\fR options. All arguments following one of these options up to the next \fBobjc-diff\fR option or the end of the argument list are passed to the compiler, and follow the same form as the arguments accepted by \fIclang\fR\|(1).
.PP
When specifying search paths for additional dependencies that are not part of the \s-1API,\s0 use \f(CW\*(C`\-isystem\*(C'\fR rather than \f(CW\*(C`\-I\*(C'\fR. This will ensure that the declarations in these headers are excluded from the \s-1API.\s0
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-\-old\fR \fIpath\fR" 4
.IX Item "--old path"
Path to the old \s-1API\s0 headers.
.IP "\fB\-\-new\fR \fIpath\fR" 4
.IX Item "--new path"
Path to the new \s-1API\s0 headers.
.IP "\fB\-\-sdk\fR \fIsdkname\fR" 4
.IX Item "--sdk sdkname"
The \s-1SDK\s0 to compile the headers against. May be specified as an absolute path or an \s-1SDK\s0 name in the same form accepted by \fIxcrun\fR\|(1) or \fIxcodebuild\fR\|(1). If not specified the latest \s-1OS X SDK\s0 will be used.
.IP "\fB\-\-args\fR \fIarguments\fR" 4
.IX Item "--args arguments"
Compiler arguments to use for both \s-1API\s0 versions.
.IP "\fB\-\-oldargs\fR \fIarguments\fR" 4
.IX Item "--oldargs arguments"
Compiler arguments to use for the old \s-1API\s0 version.
.IP "\fB\-\-newargs\fR \fIarguments\fR" 4
.IX Item "--newargs arguments"
Compiler arguments to use for the new \s-1API\s0 version.
.IP "\fB\-\-title\fR \fItitle\fR" 4
.IX Item "--title title"
The title to use for the report. If both \s-1API\s0 paths are frameworks that include version information in their Info.plist a title will be generated automatically if none is provided.
.IP "\fB\-\-text\fR" 4
.IX Item "--text"
Writes a text report to standard output. This is the default if no report format is specified.
.IP "\fB\-\-xml\fR" 4
.IX Item "--xml"
Writes an \s-1XML\s0 report to standard output.
.IP "\fB\-\-html\fR \fIdirectory\fR" 4
.IX Item "--html directory"
Writes an \s-1HTML\s0 report to the specified directory.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
Generate an \s-1HTML\s0 report for a framework:
.Sp
.RS 4
objc-diff \-\-old 1.0/Example.framework \-\-new 1.1/Example.framework \-\-html apidiff
.RE
.PP
Generate a text report for an iOS static library that uses import directives in the form of \f(CW\*(C`#import <Example/Header.h>\*(C'\fR:
.Sp
.RS 4
objc-diff \-\-sdk iphonesimulator \-\-old 1.0/Example/Example.h \-\-oldargs \-I1.0 \-\-new 1.1/Example/Example.h \-\-newargs \-I1.1
.RE
.PP
Generate an \s-1XML\s0 report for the first version of an \s-1API:\s0
.Sp
.RS 4
objc-diff \-\-new 1.0/Example.framework \-\-xml
.RE
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIclang\fR\|(1), \fIxcrun\fR\|(1)
